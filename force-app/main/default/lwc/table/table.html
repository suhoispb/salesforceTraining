<template>
  <lightning-card variant="Narrow"  title="Contact List" icon-name="standard:contact">
    <c-search oncchange={updateKey} onclick={addContact}></c-search>
    <div class="slds-m-around_small">
      <lightning-datatable
        key-field="Id"
        data={contacts} 
        columns={columns}
        onrowaction={handleRowAction}>
    </lightning-datatable>
    </div>
  </lightning-card>

  <template if:true={showModal}>
    <section role="dialog" tabindex="-1"
             aria-labelledby="modal-heading-01"
             aria-modal="true"
             aria-describedby="modal-content-id-1"
             class="slds-modal slds-fade-in-open">
       <div class="slds-modal__container">
          <!-- modal header start -->
          <header class="slds-modal__header">
             <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small" ></lightning-icon>
             </button>
             <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Delete Contact</h2>
          </header>
          <!-- modal body start -->
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
            <p>Are you sure? <b>Do you want to delete this contact?</b></p>
          </div>
          <!-- modal footer start-->
          <footer class="slds-modal__footer">
               <lightning-button variant="destructive"
                                 label="Delete"
                                 title="Delete"
                                 onclick={deleteContact}
                                 class="slds-m-right_large"
                                 
               ></lightning-button>
               <lightning-button variant="brand"
                                 label="Cancel"
                                 title="Cancel"
                                 onclick={closeModal}
                                 class="slds-m-right_large"
               ></lightning-button>
          </footer>
       </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
  </template>

  <template if:true={showAddModal}>
  <section role="dialog" tabindex="-1"
           aria-labelledby="modal-heading-01"
           aria-modal="true"
           aria-describedby="modal-content-id-1"
           class="slds-modal slds-fade-in-open">
     <div class="slds-modal__container">
        <!-- modal header start -->
        <header class="slds-modal__header">
           <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeAddContactModal}>
              <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small" ></lightning-icon>
           </button>
           <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">Add new Contact</h2>
        </header>
        <!-- modal body start -->
        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2">
          <p>Create new contact</p>
        </div>
        <!-- modal footer start-->
        <footer class="slds-modal__footer">
             <lightning-button variant="destructive"
                               label="Cancel"
                               title="Cancel"
                               onclick={closeAddContactModal}
                               class="slds-m-right_large"
                               
             ></lightning-button>
             <lightning-button variant="brand"
                               label="Save"
                               title="Save"
                               onclick={saveContact}
                               class="slds-m-right_large"
             ></lightning-button>
        </footer>
     </div>
  </section>
  <div class="slds-backdrop slds-backdrop_open"></div>
  </template>

</template>